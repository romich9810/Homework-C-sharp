using System;
using System.Collections.Generic;
using System.Linq;
using System.Security.Cryptography.X509Certificates;
using System.Text;
using System.Threading.Tasks;

namespace CSLight
{
    internal class Program
    {
        static void Main(string[] args)
        {
            float cnyToRubmCourse = 8.59f;
            float usdToRubCourse = 61.25f;
            float usdToCnyCourse = 7.13f;
            float usdCount;
            float rubCount;
            float cnyCount;
            float usdToRub;
            float rubToUsd;
            float cnyToRub;
            float rubToCny;
            float usdToCny;
            float cnyToUsd;
            string nameOfOperation;
            bool isNeedRepeat = true;

            const string СommandUsdToRub = "доллар в рубли";
            const string CommandRubToUsd = "рубль в доллар";
            const string CommandCnyToRub = "юань в рубль";
            const string CommandRubToCny = "рубль в юань";
            const string CommandUsdToCny = "доллар в юань";
            const string CommandCnyToUsd = "юань в доллар";
            const string CommandExit = "выход из программы";

            Console.WriteLine("Введите количество средств на вашем балансе.");
            Console.Write("Доллары: ");
            usdCount = Convert.ToSingle(Console.ReadLine());
            Console.Write("Рубли: ");
            rubCount = Convert.ToSingle(Console.ReadLine());
            Console.Write("Юани: ");
            cnyCount = Convert.ToSingle(Console.ReadLine());

            while (isNeedRepeat == true)
            {
                const string UsdToRubWriteComand = "Какое количество долларов сконвертировать в рубли?\nВведите к-во: ";
                const string RubToUsdWriteComand = "Какое количество рублей сконвертировать в доллары?\nВведите к-во: ";
                const string CnyToRubWriteComand = "Какое количество юаней сконвертировать в рубли?\nВведите к-во: ";
                const string RubToCnyWriteComand = "Какое количество рублей сконвертировать в юани?\nВведите к-во: ";
                const string UsdToCnyWriteComand = "Какое количество долларов сконвертировать в юани?\nВведите к-во: ";
                const string CnyToUsdWriteComand = "Какое количество юани сконвертировать в доллары?\nВведите к-во: ";
                const string UncorrecltyTypeOfConvert = "Введено некорректное значение для конвертации. Попробуйте снова.";
                const string ExitWriteComand = "Завершение программы. Ждём вас снова!";
                const string FalseWriteComand = "Введена некорректная команда. Попробуйте снова.";

                Console.WriteLine($"Какой счёт вам сконвертировать?\n{СommandUsdToRub}\n{CommandRubToUsd}\n" +
                    $"{CommandCnyToRub}\n{CommandRubToCny}\n{CommandUsdToCny}\n{CommandCnyToUsd}\n{CommandExit}.\n");
                nameOfOperation = Console.ReadLine();

                switch (nameOfOperation)
                {
                    case "доллар в рубли":
                        Console.Write(UsdToRubWriteComand);
                        usdToRub = Convert.ToSingle(Console.ReadLine());

                        if (usdToRub > usdCount)
                        {
                            Console.WriteLine(UncorrecltyTypeOfConvert);
                            continue;
                        }

                        usdCount -= usdToRub;
                        rubCount += usdToRub * usdToRubCourse;

                        Console.WriteLine("Балланс: доллары - " + usdCount + ", рубли - " + rubCount + ", юани - " + cnyCount + ".");
                        break;
                    case "рубль в доллар":
                        Console.Write(RubToUsdWriteComand);
                        rubToUsd = Convert.ToSingle(Console.ReadLine());

                        if (rubToUsd > rubCount)
                        {
                            Console.WriteLine(UncorrecltyTypeOfConvert);
                            continue;
                        }

                        rubCount -= rubToUsd;
                        usdCount += rubToUsd / usdToRubCourse;

                        Console.WriteLine($"Балланс: доллары - {usdCount}, рубли - {rubCount}, юани - {cnyCount}.");
                        break;
                    case "юань в рубль":
                        Console.Write(CnyToRubWriteComand);
                        cnyToRub = Convert.ToSingle(Console.ReadLine());

                        if (cnyToRub > cnyCount)
                        {
                            Console.WriteLine(UncorrecltyTypeOfConvert);
                            continue;
                        }

                        cnyCount -= cnyToRub;
                        rubCount += cnyToRub * cnyToRubmCourse;

                        Console.WriteLine($"Балланс: доллары - {usdCount}, рубли - {rubCount}, юани - {cnyCount}.");
                        break;
                    case "рубль в юань":
                        Console.Write(RubToCnyWriteComand);
                        rubToCny = Convert.ToSingle(Console.ReadLine());

                        if (rubToCny > rubCount)
                        {
                            Console.WriteLine(UncorrecltyTypeOfConvert);
                            continue;
                        }

                        rubCount -= rubToCny;
                        cnyCount += rubToCny / cnyToRubmCourse;

                        Console.WriteLine($"Балланс: доллары - {usdCount}, рубли - {rubCount}, юани - {cnyCount}.");
                        break;
                    case "доллар в юань":
                        Console.Write(UsdToCnyWriteComand);
                        usdToCny = Convert.ToSingle(Console.ReadLine());

                        if (usdToCny > usdCount)
                        {
                            Console.WriteLine(UncorrecltyTypeOfConvert);
                            continue;
                        }

                        usdCount -= usdToCny;
                        cnyCount += usdToCny * usdToCnyCourse;

                        Console.WriteLine($"Балланс: доллары - {usdCount}, рубли - {rubCount}, юани - {cnyCount}.");
                        break;
                    case "юань в доллар":
                        Console.Write(CnyToUsdWriteComand);
                        cnyToUsd = Convert.ToSingle(Console.ReadLine());

                        if (cnyToUsd > cnyCount)
                        {
                            Console.WriteLine(UncorrecltyTypeOfConvert);
                            continue;
                        }

                        cnyCount -= cnyToUsd;
                        usdCount += cnyToUsd / usdToCnyCourse;

                        Console.WriteLine($"Балланс: доллары - {usdCount}, рубли - {rubCount}, юани - {cnyCount}.");
                        break;
                    case "выход из программы":
                        Console.WriteLine(ExitWriteComand);
                        isNeedRepeat = false;
                        break;
                    default:
                        Console.WriteLine(FalseWriteComand);
                        continue;
                }
            }
        }
    }
}
